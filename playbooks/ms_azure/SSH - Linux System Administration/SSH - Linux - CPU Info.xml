<TotalExport sourceSystem="NG">
  <Workflows>
    <WorkflowInfo Pnumber="15541" Name="SSH - Linux - CPU Info" Description="Simple template using the top command to retrieve various forms of CPU usage in terms of percentage.  The results are converted to a table with four columns ('User', 'System', 'Nice', and 'Idle')." Xoml="&lt;SequentialWorkflowActivity xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/workflow&quot; xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot; x:Name=&quot;CustomWorkflow&quot; x:Class=&quot;WorkflowDesignerControl.CustomWorkflow&quot;&gt;&#xD;&#xA;  &lt;StartSSHSession x:Name=&quot;ssh_connect&quot; activityLicenseType=&quot;1&quot; id=&quot;274&quot; name=&quot;StartSSHSession&quot; visible=&quot;True&quot; disabled=&quot;False&quot; isFavorite=&quot;False&quot; isJsonValid=&quot;True&quot; IsValid=&quot;True&quot; Timeout=&quot;00:01:00&quot; TimeInSeconds=&quot;60&quot; RecoveryMethodSelection=&quot;{x:Null}&quot; TargetModuleID=&quot;&quot; TargetModuleName=&quot;&quot; Path=&quot;{x:Null}&quot; DisplayName=&quot;Start SSH Session&quot; Description=&quot;Starts an SSH session&quot; Port=&quot;22&quot; MaxSessionTime=&quot;00:10:00&quot; HostId=&quot;4&quot; HostName=&quot;local shell server&quot; UserName=&quot;&quot; Password=&quot;&quot; StartSession=&quot;SSH&quot; OSType=&quot;0&quot; certtype=&quot;&quot; certpath=&quot;&quot; notes=&quot;Initialize SSH session.&quot; TypeName=&quot;StartSSHSession&quot; label=&quot;Start SSH Session&quot; description=&quot;Starts an SSH session&quot; /&gt;&#xD;&#xA;  &lt;SendSSHCommand x:Name=&quot;cmd_cpu_info&quot; activityLicenseType=&quot;1&quot; id=&quot;271&quot; name=&quot;SendSSHCommand&quot; visible=&quot;True&quot; disabled=&quot;False&quot; isFavorite=&quot;False&quot; isJsonValid=&quot;True&quot; IsValid=&quot;True&quot; Timeout=&quot;00:01:00&quot; TimeInSeconds=&quot;60&quot; RecoveryMethodSelection=&quot;{x:Null}&quot; TargetModuleID=&quot;&quot; TargetModuleName=&quot;&quot; Path=&quot;{x:Null}&quot; DisplayName=&quot;Send SSH Command&quot; Description=&quot;Sends a single SSH protocol command to an open SSH session&quot; SessionName=&quot;ssh_connect&quot; Comm=&quot;top -n 1 | grep Cpu | awk '{ $1=&amp;quot;&amp;quot;; print $0 }' | awk '{ print &amp;quot;User|&amp;quot;$1&amp;quot;%\nSystem|&amp;quot;$3&amp;quot;%\nNice|&amp;quot;$5&amp;quot;%\nIdle|&amp;quot;$7&amp;quot;%&amp;quot; }'&quot; Prompt=&quot;&quot; HostId=&quot;-1&quot; HostName=&quot;&quot; OSType=&quot;0&quot; notes=&quot;Execute the top command to retrieve CPU usage information, where the -n 1 flag for top allows the program to exit after one iteration, rather than be ran in its default interactive mode. The output is then piped to grep to filter the line containing the string Cpu. That output is finally piped to awk where the first column is ignored, piped to awk again where custom labels are used for the first column of each row (i.e. User, System, etc.) and a tab is added before the second column on each row that printed.&quot; TypeName=&quot;SendSSHCommand&quot; label=&quot;Send SSH Command&quot; description=&quot;Sends a single SSH protocol command to an open SSH session&quot; /&gt;&#xD;&#xA;  &lt;ConvertTextToTable x:Name=&quot;table_cpu_info&quot; activityLicenseType=&quot;1&quot; id=&quot;317&quot; name=&quot;ConvertTextToTable&quot; visible=&quot;True&quot; disabled=&quot;False&quot; isFavorite=&quot;False&quot; isJsonValid=&quot;True&quot; IsValid=&quot;True&quot; Timeout=&quot;00:01:00&quot; TimeInSeconds=&quot;60&quot; RecoveryMethodSelection=&quot;{x:Null}&quot; TargetModuleID=&quot;&quot; TargetModuleName=&quot;&quot; Path=&quot;{x:Null}&quot; DisplayName=&quot;Convert Text to Table&quot; Description=&quot;Converts a text variable into a table according to predefined column/row delimiters&quot; TheValue=&quot;Type Used&amp;#xD;&amp;#xA;%cmd_cpu_info%&quot; ColumnsSelection=&quot;0&quot; ColumnsDelimiterText=&quot;|&quot; ColumnsDelimiter=&quot;|&quot; ColumnsDelimiterSelection=&quot;|&quot; ColumnsRowNumber=&quot;1&quot; RowsSelection=&quot;1&quot; RowsDelimiterText=&quot;&quot; RowsDelimiterSelection=&quot;Carriage Return&quot; RowsDelimiter=&quot;Carriage Return&quot; notes=&quot;Convert command output to table.&quot; TypeName=&quot;ConvertTextToTable&quot; label=&quot;Convert Text to Table&quot; description=&quot;Converts a text variable into a table according to predefined column/row delimiters&quot; /&gt;&#xD;&#xA;  &lt;TerminateSSHSession x:Name=&quot;ssh_disconnect&quot; activityLicenseType=&quot;1&quot; id=&quot;275&quot; name=&quot;TerminateSSHSession&quot; visible=&quot;True&quot; disabled=&quot;False&quot; isFavorite=&quot;False&quot; isJsonValid=&quot;True&quot; IsValid=&quot;True&quot; notes=&quot;End SSH session.&quot; Timeout=&quot;00:01:00&quot; TimeInSeconds=&quot;60&quot; RecoveryMethodSelection=&quot;{x:Null}&quot; TargetModuleID=&quot;&quot; TargetModuleName=&quot;&quot; Path=&quot;{x:Null}&quot; DisplayName=&quot;&quot; Description=&quot;Terminates an SSH session&quot; SessionName=&quot;ssh_connect&quot; HostId=&quot;-1&quot; HostName=&quot;{x:Null}&quot; OSType=&quot;0&quot; TypeName=&quot;TerminateSSHSession&quot; label=&quot;TerminateSSHSession&quot; description=&quot;Terminates an SSH session&quot; /&gt;&#xD;&#xA;&lt;/SequentialWorkflowActivity&gt;" XomlStatus="0" Details="&lt;p&gt;Simple template using the &lt;strong&gt;top &lt;/strong&gt;command to retrieve various forms of CPU usage in terms of percentage.&amp;nbsp;The results are converted to a table with four columns (&lt;strong&gt;User&lt;/strong&gt;, &lt;strong&gt;System&lt;/strong&gt;, &lt;strong&gt;Nice&lt;/strong&gt;, and &lt;strong&gt;Idle&lt;/strong&gt;).&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;This is achieved with the following command:&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;top -n 1 | grep Cpu | awk '{ $1=&quot;&quot;; print $0 }' | awk '{ print &quot;User\t&quot;$1&quot;%\nSystem\t&quot;$3&quot;%\nNice\t&quot;$5&quot;%\nIdle\t&quot;$7&quot;%&quot; }'&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;...where the &lt;strong&gt;-n 1 &lt;/strong&gt;flag for &lt;strong&gt;top &lt;/strong&gt;allows the program to exit after one iteration, rather than be ran in its default interactive mode. The output is then piped to &lt;strong&gt;grep &lt;/strong&gt;to filter the line containing the string &lt;strong&gt;Cpu&lt;/strong&gt;. That output is finally piped to &lt;strong&gt;awk &lt;/strong&gt;where the first column is ignored, piped to &lt;strong&gt;awk &lt;/strong&gt;again where custom labels are used for the first column of each row (i.e. &lt;strong&gt;User&lt;/strong&gt;, &lt;strong&gt;System&lt;/strong&gt;, etc.) and a tab is added before the second column on each row that printed. These results are then converted into a table.&lt;/p&gt;" DateLic="34385064303975645753487875595347585630595A78516E636E586F6D4F335A58337773526C426F343064564844367062626E5966624B2F76336F414D54563552356976304C496651597575354E536D71505A764F3732586E4832325257496E304977596670514264484E4E336336732B4635745A6F3759326B4645697774776A4A49585257684144573661464F502F5361654A457653377057644D534C564A334170626D386835776C79695A73483749664175546D3849535A7957697355623556525245646471314C722B74384B4468712B6D565249764D344E54444B6B4B4D6E3339464B4B47556A6D41714E504C6A50475A537546496D507A3734556345637A6F576265543869706637684D6D326A7233574B423730634A33676E7A55734C397953494345363032664F415A454644615950374857395647504875447045" WorkflowType="0" WorkflowFolderId="80" Permissions="&lt;NewDataSet&gt;&lt;xs:schema id=&quot;NewDataSet&quot; xmlns=&quot;&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:msdata=&quot;urn:schemas-microsoft-com:xml-msdata&quot;&gt;&lt;xs:element name=&quot;NewDataSet&quot; msdata:IsDataSet=&quot;true&quot; msdata:UseCurrentLocale=&quot;true&quot;&gt;&lt;xs:complexType&gt;&lt;xs:choice minOccurs=&quot;0&quot; maxOccurs=&quot;unbounded&quot;&gt;&lt;xs:element name=&quot;resultSet&quot;&gt;&lt;xs:complexType&gt;&lt;xs:sequence&gt;&lt;xs:element name=&quot;Type&quot; type=&quot;xs:int&quot; minOccurs=&quot;0&quot; /&gt;&lt;xs:element name=&quot;Number&quot; type=&quot;xs:int&quot; minOccurs=&quot;0&quot; /&gt;&lt;xs:element name=&quot;Read&quot; type=&quot;xs:boolean&quot; minOccurs=&quot;0&quot; /&gt;&lt;xs:element name=&quot;Write&quot; type=&quot;xs:boolean&quot; minOccurs=&quot;0&quot; /&gt;&lt;xs:element name=&quot;Run&quot; type=&quot;xs:boolean&quot; minOccurs=&quot;0&quot; /&gt;&lt;xs:element name=&quot;Owner&quot; type=&quot;xs:boolean&quot; minOccurs=&quot;0&quot; /&gt;&lt;/xs:sequence&gt;&lt;/xs:complexType&gt;&lt;/xs:element&gt;&lt;/xs:choice&gt;&lt;/xs:complexType&gt;&lt;/xs:element&gt;&lt;/xs:schema&gt;&lt;resultSet&gt;&lt;Type&gt;1&lt;/Type&gt;&lt;Number&gt;1&lt;/Number&gt;&lt;Read&gt;true&lt;/Read&gt;&lt;Write&gt;true&lt;/Write&gt;&lt;Run&gt;true&lt;/Run&gt;&lt;Owner&gt;true&lt;/Owner&gt;&lt;/resultSet&gt;&lt;/NewDataSet&gt;" ErrorHandling="" CurrentRevisionNumber="1" WorkflowParentId="0" DateCreated="2021-07-22T14:05:20.017" DateCreatedUser="1" DateModified="2021-07-22T14:15:31.543" DateModifiedUser="1" />
  </Workflows>
  <Objects>
    <Hosts>
      <Host Hnumber="4" Hname="eyeShare Module" Hdescription="Automatically Created Object" Deleted="0" DeviceType="1" Site="0" IPAddress="" Platform="0" InstanceMode="0" SNMPMIB="" CredentialsInherit="0" ExecutorID="0" AutoCreated="1" IsMasterHost="0" MasterHostId="0" />
    </Hosts>
    <ErrorHandlers />
    <ErrorMessages />
    <MessageTemplates />
    <Sites />
    <Developments />
    <Users>
      <User Unumber="1" Uname="Admin" FName="Ayehu" LName="Administrator" Email="Admin@localhost.com" Pnumber1="0000000" Pnumber2="0000000" Role="1" Password1="GO4LNahlTb3F0vFFgGrSO1QZfU55fsedFGLbmAcAVmGs4yG3jvClwosEbnNSqR8pE+z/b445CY+uaGNXWXVwTx6azqDPFQ==" Deleted="0" Modulenumber="0" ActiveDirectoryID="" HomePhoneNumber="" WorkPhoneNumber="" MobilePhoneNumber="" ListenerClientIP="" EmployeeNumber="" />
    </Users>
    <Groups />
    <UsersGroupsArray />
    <Domains />
    <Commands />
    <Classifications />
    <Incidents />
    <TimeFrames />
    <Variables />
    <Modules />
    <Conditions />
    <ConditionArrays />
    <ConditionObjects />
    <SoapWebServices />
    <Triggers />
    <TriggerConditionArrays />
    <LogCategory />
    <LogTriggerCategory />
    <Schedules />
    <CustomActivities />
    <ActivitiesSource />
    <ScheduleCategoriesRelations />
  </Objects>
  <ObjectsRelations>
    <ObjectRelation ObjectID="1" Type="User" ParentWorkFlowID="15541" />
    <ObjectRelation ObjectID="4" Type="Host" ParentWorkFlowID="15541" />
  </ObjectsRelations>
  <ExportKeys>
    <Key name="passPhrase" value="7832664761624D496B477433795A323249616A30626A5379663765474365546950565A626D6B306B4B4D553D" />
    <Key name="saltValue" value="4D6776426E73594F4D723453686E636B79456E4D64673D3D" />
    <Key name="initVector" value="45453367315568306A6D6A6B4A694E6B3965424A59325077446757696D2B5866736B66714B5653614E714D3D" />
  </ExportKeys>
</TotalExport>